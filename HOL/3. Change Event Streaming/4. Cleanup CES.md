# Clean Up CES Resources

In this final lab, you’ll clean up the CES configuration and supporting resources created during Labs 1–3. This is important to avoid leaving unused objects in your local database or Azure environment.

---

### Drop CES Stream Group

This statement drops the stream group and all associated table bindings.

```sql
EXEC sys.sp_ces_drop_stream_group @stream_group = N'CesDemoGroup';
```

### Drop Tracked Tables

If you no longer need the `CesDemo` database or want to reset it for another student or lab iteration, you can drop the tables you created.

> ⚠️ Be careful: this permanently deletes the data.

#### Drop OrderLine

```sql
DROP TABLE Sales.OrderLine;
```

#### Drop Order

```sql
DROP TABLE Sales.[Order];
```

#### Drop Product

```sql
DROP TABLE Sales.Product;
```

#### Drop Customer

```sql
DROP TABLE Sales.Customer;
```

#### Drop TableWithNoPK

```sql
DROP TABLE Sales.TableWithNoPK;
```

### Drop Supporting Schema

If you created a dedicated schema for your lab objects:

```sql
DROP SCHEMA Sales;
```

### Optional: Drop the Database

If you created a dedicated database for this lab and want to delete it completely:

```sql
USE master;

ALTER DATABASE CesDemo SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
DROP DATABASE CesDemo;
```

### Stop the C# Client

Back in Visual Studio, stop the `CESClient` console application if it's still running.

* Click **Stop Debugging**
* Or press `Shift + F5`

Your lab environment is now clean.

---

✅ You're done! You’ve now completed a full round-trip demo of Change Event Streaming in SQL Server 2025 using a shared Azure Event Hub.
